<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Tue May 28 19:47:38 CEST 2019 -->
<title>UtilCache</title>
<meta name="date" content="2019-05-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UtilCache";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/ofbiz/core/util/StringUtil.html" title="class in org.ofbiz.core.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/ofbiz/core/util/UtilCache.html" target="_top">Frames</a></li>
<li><a href="UtilCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ofbiz.core.util</div>
<h2 title="Class UtilCache" class="title">Class UtilCache&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.ofbiz.core.util.UtilCache&lt;K,V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">UtilCache&lt;K,V&gt;</span>
extends java.lang.Object</pre>
<div class="block"><p> Generalized caching utility. Provides a number of caching features:
 <ul>
 <li>Limited or unlimited element capacity
 <li>If limited, removes elements with the LRU (Least Recently Used) algorithm
 <li>Keeps track of when each element was loaded into the cache
 <li>Using the expireTime can report whether a given element has expired
 <li>Counts misses and hits
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util">UtilCache.CacheLine</a>&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="type parameter in UtilCache.CacheLine">T</a>&gt;</span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>,<a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util">UtilCache.CacheLine</a>&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#cacheLineTable">cacheLineTable</a></span></code>
<div class="block">A hashtable containing a CacheLine object with a value and a loadTime for each element.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#defaultIndices">defaultIndices</a></span></code>
<div class="block">An index number appended to utilCacheTable names when there are conflicts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#expireTime">expireTime</a></span></code>
<div class="block">Specifies the amount of time since initial loading before an element will be reported as expired.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#hitCount">hitCount</a></span></code>
<div class="block">A count of the number of cache hits</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.LinkedList&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#keyLRUList">keyLRUList</a></span></code>
<div class="block">A list of the elements order by Least Recent Use</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#maxSize">maxSize</a></span></code>
<div class="block">The maximum number of elements in the cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#missCount">missCount</a></span></code>
<div class="block">A count of the number of cache misses</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#name">name</a></span></code>
<div class="block">The name of the UtilCache instance, is also the key for the instance in utilCacheTable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#useSoftReference">useSoftReference</a></span></code>
<div class="block">Specifies whether or not to use soft references for this cache, defaults to false</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="class in org.ofbiz.core.util">UtilCache</a>&lt;?,?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#utilCacheTable">utilCacheTable</a></span></code>
<div class="block">A static Map to keep track of all of the UtilCache instances.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#UtilCache--">UtilCache</a></span>()</code>
<div class="block">Default constructor, all members stay at default values as defined in cache.properties, or the defaults in this file if cache.properties is not found, or there are no 'default' entries in it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#UtilCache-long-long-">UtilCache</a></span>(long&nbsp;maxSize,
         long&nbsp;expireTime)</code>
<div class="block">Constructor which specifies the maxSize and expireTime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#UtilCache-java.lang.String-">UtilCache</a></span>(java.lang.String&nbsp;cacheName)</code>
<div class="block">This constructor takes a name for the cache, puts itself in the utilCacheTable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#UtilCache-java.lang.String-long-long-">UtilCache</a></span>(java.lang.String&nbsp;cacheName,
         long&nbsp;maxSize,
         long&nbsp;expireTime)</code>
<div class="block">Constructor which specifies the cacheName as well as the maxSize and expireTime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#UtilCache-java.lang.String-long-long-boolean-">UtilCache</a></span>(java.lang.String&nbsp;cacheName,
         long&nbsp;maxSize,
         long&nbsp;expireTime,
         boolean&nbsp;useSoftReference)</code>
<div class="block">Constructor which specifies the cacheName as well as the maxSize, expireTime and useSoftReference.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#clear--">clear</a></span>()</code>
<div class="block">Removes all elements from this cache</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#clearAllCaches--">clearAllCaches</a></span>()</code>
<div class="block">Removes all elements from this cache</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#clearCounters--">clearCounters</a></span>()</code>
<div class="block">Clears the hit and miss counters</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#clearExpired--">clearExpired</a></span>()</code>
<div class="block">Clears all expired cache entries; also clear any cache entries where the SoftReference in the CacheLine object has been cleared by the gc</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#clearExpiredFromAllCaches--">clearExpiredFromAllCaches</a></span>()</code>
<div class="block">Clears all expired cache entries from all caches</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#containsKey-java.lang.Object-">containsKey</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Returns a boolean specifying whether or not an element with the specified key is in the cache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#get-K-">get</a></span>(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key)</code>
<div class="block">Gets an element from the cache according to the specified key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getExpireTime--">getExpireTime</a></span>()</code>
<div class="block">return the current expire time for the cache elements</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getHitCount--">getHitCount</a></span>()</code>
<div class="block">Returns the number of successful hits on the cache</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getMaxSize--">getMaxSize</a></span>()</code>
<div class="block">Returns the current maximum number of elements in the cache</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getMissCount--">getMissCount</a></span>()</code>
<div class="block">Returns the number of cache misses</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getName--">getName</a></span>()</code>
<div class="block">Getter for the name of the UtilCache instance.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getNextDefaultIndex-java.lang.String-">getNextDefaultIndex</a></span>(java.lang.String&nbsp;cacheName)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#getUseSoftReference--">getUseSoftReference</a></span>()</code>
<div class="block">Return whether or not the cache lines should use a soft reference to the data</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#hasExpired-K-">hasExpired</a></span>(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key)</code>
<div class="block">Returns a boolean specifying whether or not the element corresponding to the key has expired.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#hasExpired-org.ofbiz.core.util.UtilCache.CacheLine-">hasExpired</a></span>(<a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util">UtilCache.CacheLine</a>&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&gt;&nbsp;line)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#put-K-V-">put</a></span>(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key,
   <a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&nbsp;value)</code>
<div class="block">Puts or loads the passed element into the cache</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#remove-java.lang.Object-">remove</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Removes an element from the cache according to the specified key</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#setExpireTime-long-">setExpireTime</a></span>(long&nbsp;expireTime)</code>
<div class="block">Sets the expire time for the cache elements.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#setMaxSize-long-">setMaxSize</a></span>(long&nbsp;maxSize)</code>
<div class="block">Sets the maximum number of elements in the cache.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#setPropertiesParams-java.lang.String-">setPropertiesParams</a></span>(java.lang.String&nbsp;cacheName)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#setUseSoftReference-boolean-">setUseSoftReference</a></span>(boolean&nbsp;useSoftReference)</code>
<div class="block">Set whether or not the cache lines should use a soft reference to the data</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#size--">size</a></span>()</code>
<div class="block">Returns the number of elements currently in the cache</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/ofbiz/core/util/UtilCache.html#validKey-java.lang.String-java.lang.Object-">validKey</a></span>(java.lang.String&nbsp;cacheName,
        java.lang.Object&nbsp;key)</code>
<div class="block">Checks for a non-expired key in a specific cache</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="utilCacheTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>utilCacheTable</h4>
<pre>public static&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="class in org.ofbiz.core.util">UtilCache</a>&lt;?,?&gt;&gt; utilCacheTable</pre>
<div class="block">A static Map to keep track of all of the UtilCache instances.</div>
</li>
</ul>
<a name="defaultIndices">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultIndices</h4>
<pre>protected static&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt; defaultIndices</pre>
<div class="block">An index number appended to utilCacheTable names when there are conflicts.</div>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>protected&nbsp;java.lang.String name</pre>
<div class="block">The name of the UtilCache instance, is also the key for the instance in utilCacheTable.</div>
</li>
</ul>
<a name="keyLRUList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyLRUList</h4>
<pre>public&nbsp;java.util.LinkedList&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&gt; keyLRUList</pre>
<div class="block">A list of the elements order by Least Recent Use</div>
</li>
</ul>
<a name="cacheLineTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheLineTable</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>,<a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util">UtilCache.CacheLine</a>&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&gt;&gt; cacheLineTable</pre>
<div class="block">A hashtable containing a CacheLine object with a value and a loadTime for each element.</div>
</li>
</ul>
<a name="hitCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hitCount</h4>
<pre>protected&nbsp;long hitCount</pre>
<div class="block">A count of the number of cache hits</div>
</li>
</ul>
<a name="missCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>missCount</h4>
<pre>protected&nbsp;long missCount</pre>
<div class="block">A count of the number of cache misses</div>
</li>
</ul>
<a name="maxSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxSize</h4>
<pre>protected&nbsp;long maxSize</pre>
<div class="block">The maximum number of elements in the cache.
 If set to 0, there will be no limit on the number of elements in the cache.</div>
</li>
</ul>
<a name="expireTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireTime</h4>
<pre>protected&nbsp;long expireTime</pre>
<div class="block">Specifies the amount of time since initial loading before an element will be reported as expired.
 If set to 0, elements will never expire.</div>
</li>
</ul>
<a name="useSoftReference">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>useSoftReference</h4>
<pre>protected&nbsp;boolean useSoftReference</pre>
<div class="block">Specifies whether or not to use soft references for this cache, defaults to false</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UtilCache-java.lang.String-long-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UtilCache</h4>
<pre>public&nbsp;UtilCache(java.lang.String&nbsp;cacheName,
                 long&nbsp;maxSize,
                 long&nbsp;expireTime,
                 boolean&nbsp;useSoftReference)</pre>
<div class="block">Constructor which specifies the cacheName as well as the maxSize, expireTime and useSoftReference.
 The passed maxSize, expireTime and useSoftReference will be overridden by values from cache.properties if found.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxSize</code> - The maxSize member is set to this value</dd>
<dd><code>expireTime</code> - The expireTime member is set to this value</dd>
<dd><code>cacheName</code> - The name of the cache.</dd>
<dd><code>useSoftReference</code> - Specifies whether or not to use soft references for this cache.</dd>
</dl>
</li>
</ul>
<a name="UtilCache-java.lang.String-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UtilCache</h4>
<pre>public&nbsp;UtilCache(java.lang.String&nbsp;cacheName,
                 long&nbsp;maxSize,
                 long&nbsp;expireTime)</pre>
<div class="block">Constructor which specifies the cacheName as well as the maxSize and expireTime.
 The passed maxSize and expireTime will be overridden by values from cache.properties if found.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxSize</code> - The maxSize member is set to this value</dd>
<dd><code>expireTime</code> - The expireTime member is set to this value</dd>
<dd><code>cacheName</code> - The name of the cache.</dd>
</dl>
</li>
</ul>
<a name="UtilCache-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UtilCache</h4>
<pre>public&nbsp;UtilCache(long&nbsp;maxSize,
                 long&nbsp;expireTime)</pre>
<div class="block">Constructor which specifies the maxSize and expireTime.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxSize</code> - The maxSize member is set to this value</dd>
<dd><code>expireTime</code> - The expireTime member is set to this value</dd>
</dl>
</li>
</ul>
<a name="UtilCache-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UtilCache</h4>
<pre>public&nbsp;UtilCache(java.lang.String&nbsp;cacheName)</pre>
<div class="block">This constructor takes a name for the cache, puts itself in the utilCacheTable.
 It also uses the cacheName to lookup the initialization parameters from cache.properties.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cacheName</code> - The name of the cache.</dd>
</dl>
</li>
</ul>
<a name="UtilCache--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UtilCache</h4>
<pre>public&nbsp;UtilCache()</pre>
<div class="block">Default constructor, all members stay at default values as defined in cache.properties, or the defaults in this file if cache.properties is not found, or there are no 'default' entries in it.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNextDefaultIndex-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextDefaultIndex</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getNextDefaultIndex(java.lang.String&nbsp;cacheName)</pre>
</li>
</ul>
<a name="setPropertiesParams-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPropertiesParams</h4>
<pre>protected&nbsp;void&nbsp;setPropertiesParams(java.lang.String&nbsp;cacheName)</pre>
</li>
</ul>
<a name="put-java.lang.Object-java.lang.Object-">
<!--   -->
</a><a name="put-K-V-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key,
                <a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&nbsp;value)</pre>
<div class="block">Puts or loads the passed element into the cache</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the element, used to reference it in the hastables and LRU linked list</dd>
<dd><code>value</code> - The value of the element</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Object-">
<!--   -->
</a><a name="get-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&nbsp;get(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key)</pre>
<div class="block">Gets an element from the cache according to the specified key.
 If the requested element hasExpired, it is removed before it is looked up which causes the function to return null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the element, used to reference it in the hastables and LRU linked list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value of the element specified by the key</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;java.lang.Object&nbsp;remove(java.lang.Object&nbsp;key)</pre>
<div class="block">Removes an element from the cache according to the specified key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the element, used to reference it in the hastables and LRU linked list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value of the removed element specified by the key</dd>
</dl>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Removes all elements from this cache</div>
</li>
</ul>
<a name="clearAllCaches--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearAllCaches</h4>
<pre>public static&nbsp;void&nbsp;clearAllCaches()</pre>
<div class="block">Removes all elements from this cache</div>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Getter for the name of the UtilCache instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The name of the instance</dd>
</dl>
</li>
</ul>
<a name="getHitCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHitCount</h4>
<pre>public&nbsp;long&nbsp;getHitCount()</pre>
<div class="block">Returns the number of successful hits on the cache</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of successful cache hits</dd>
</dl>
</li>
</ul>
<a name="getMissCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMissCount</h4>
<pre>public&nbsp;long&nbsp;getMissCount()</pre>
<div class="block">Returns the number of cache misses</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of cache misses</dd>
</dl>
</li>
</ul>
<a name="clearCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCounters</h4>
<pre>public&nbsp;void&nbsp;clearCounters()</pre>
<div class="block">Clears the hit and miss counters</div>
</li>
</ul>
<a name="setMaxSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxSize</h4>
<pre>public&nbsp;void&nbsp;setMaxSize(long&nbsp;maxSize)</pre>
<div class="block">Sets the maximum number of elements in the cache.
 If 0, there is no maximum.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxSize</code> - The maximum number of elements in the cache</dd>
</dl>
</li>
</ul>
<a name="getMaxSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSize</h4>
<pre>public&nbsp;long&nbsp;getMaxSize()</pre>
<div class="block">Returns the current maximum number of elements in the cache</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The maximum number of elements in the cache</dd>
</dl>
</li>
</ul>
<a name="setExpireTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpireTime</h4>
<pre>public&nbsp;void&nbsp;setExpireTime(long&nbsp;expireTime)</pre>
<div class="block">Sets the expire time for the cache elements.
 If 0, elements never expire.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expireTime</code> - The expire time for the cache elements</dd>
</dl>
</li>
</ul>
<a name="getExpireTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpireTime</h4>
<pre>public&nbsp;long&nbsp;getExpireTime()</pre>
<div class="block">return the current expire time for the cache elements</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The expire time for the cache elements</dd>
</dl>
</li>
</ul>
<a name="setUseSoftReference-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseSoftReference</h4>
<pre>public&nbsp;void&nbsp;setUseSoftReference(boolean&nbsp;useSoftReference)</pre>
<div class="block">Set whether or not the cache lines should use a soft reference to the data</div>
</li>
</ul>
<a name="getUseSoftReference--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUseSoftReference</h4>
<pre>public&nbsp;boolean&nbsp;getUseSoftReference()</pre>
<div class="block">Return whether or not the cache lines should use a soft reference to the data</div>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;long&nbsp;size()</pre>
<div class="block">Returns the number of elements currently in the cache</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of elements currently in the cache</dd>
</dl>
</li>
</ul>
<a name="containsKey-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre>public&nbsp;boolean&nbsp;containsKey(java.lang.Object&nbsp;key)</pre>
<div class="block">Returns a boolean specifying whether or not an element with the specified key is in the cache.
 If the requested element hasExpired, it is removed before it is looked up which causes the function to return false.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the element, used to reference it in the hastables and LRU linked list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True is the cache contains an element corresponding to the specified key, otherwise false</dd>
</dl>
</li>
</ul>
<a name="hasExpired-java.lang.Object-">
<!--   -->
</a><a name="hasExpired-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasExpired</h4>
<pre>public&nbsp;boolean&nbsp;hasExpired(<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">K</a>&nbsp;key)</pre>
<div class="block">Returns a boolean specifying whether or not the element corresponding to the key has expired.
 Only returns true if element is in cache and has expired. Error conditions return false, if no expireTable entry, returns true.
 Always returns false if expireTime <= 0.
 Also, if SoftReference in the CacheLine object has been cleared by the gc return true.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key for the element, used to reference it in the hastables and LRU linked list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True is the element corresponding to the specified key has expired, otherwise false</dd>
</dl>
</li>
</ul>
<a name="hasExpired-org.ofbiz.core.util.UtilCache.CacheLine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasExpired</h4>
<pre>protected&nbsp;boolean&nbsp;hasExpired(<a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util">UtilCache.CacheLine</a>&lt;<a href="../../../../org/ofbiz/core/util/UtilCache.html" title="type parameter in UtilCache">V</a>&gt;&nbsp;line)</pre>
</li>
</ul>
<a name="clearExpired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearExpired</h4>
<pre>public&nbsp;void&nbsp;clearExpired()</pre>
<div class="block">Clears all expired cache entries; also clear any cache entries where the SoftReference in the CacheLine object has been cleared by the gc</div>
</li>
</ul>
<a name="clearExpiredFromAllCaches--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearExpiredFromAllCaches</h4>
<pre>public static&nbsp;void&nbsp;clearExpiredFromAllCaches()</pre>
<div class="block">Clears all expired cache entries from all caches</div>
</li>
</ul>
<a name="validKey-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>validKey</h4>
<pre>public static&nbsp;boolean&nbsp;validKey(java.lang.String&nbsp;cacheName,
                               java.lang.Object&nbsp;key)</pre>
<div class="block">Checks for a non-expired key in a specific cache</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/ofbiz/core/util/StringUtil.html" title="class in org.ofbiz.core.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/ofbiz/core/util/UtilCache.CacheLine.html" title="class in org.ofbiz.core.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/ofbiz/core/util/UtilCache.html" target="_top">Frames</a></li>
<li><a href="UtilCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
